
<!--

=========================================================
* Now UI Kit - v1.3.0
=========================================================

* Product Page: https://www.creative-tim.com/product/now-ui-kit
* Copyright 2019 Creative Tim (http://www.creative-tim.com)
* Licensed under MIT (https://github.com/creativetimofficial/now-ui-kit/blob/master/LICENSE.md)

* Designed by www.invisionapp.com Coded by www.creative-tim.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    CinemaNut
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <!-- CSS Files -->
  <link href="./assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="./assets/css/now-ui-kit.css?v=1.3.0" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="./assets/demo/demo.css" rel="stylesheet" />
  <!-- Vue 3 -->
  <script src='https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.js'></script>
  <!-- Vue 3: production version, optimized for size and speed -->
  <!-- <script src='https://cdn.jsdelivr.net/npm/vue@3.0.2/dist/vue.global.prod.js'></script> -->
</head>

<body class="index-page sidebar-collapse">
  <div id="app">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-primary fixed-top navbar-transparent " color-on-scroll="400">
      <div class="container">
        <div class="navbar-translate">
          <!-- <a class="navbar-brand" href="https://demos.creative-tim.com/now-ui-kit/index.html" rel="tooltip" title="Designed by Invision. Coded by Creative Tim" data-placement="bottom" target="_blank"> -->
            CinemaNut
          <!-- </a> -->
          <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-bar top-bar"></span>
            <span class="navbar-toggler-bar middle-bar"></span>
            <span class="navbar-toggler-bar bottom-bar"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse justify-content-end" id="navigation" data-nav-image="./assets/img/blurred-image-1.jpg">
          <ul class="navbar-nav">
              <li class="nav-item">
                <a href="home.html" class="btn bg-danger nav-link btn-round">
                  BROWSE
                </a>
              </li>
              <li class="nav-item">
                <a href="profile.html" class="btn bg-danger nav-link btn-round">
                  PROFILE
                </a>
              </li>
              <li class="nav-item">
                <a href="login.html" class="btn bg-danger nav-link btn-round">
                  REGISTER / LOGIN
                </a>
              </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->
    <div class="wrapper">
      <div class="page-header clear-filter" filter-color="orange">
        <div class="page-header-image" data-parallax="true" style="background-color: black;">
        </div>
        <div class="container mx-6 px-5">
          <div class="row text-header text-center">
            <div class="col-5" style="align-items: flex-end">
              <img :src="image"/>
            </div>
            <div class="col-7 pl-4" style="text-align: left;">
              <h1>
              {{title}}
              </h1>
              <h3>
                  <i>
                      {{type}}
                  </i>
              </h3>
              <h4>{{synopsis}}</h4>
              <br>
              <!-- <h5 v-for="user of users_data">
                  {{user}}
              </h5> -->
              <button type="button" class ="btn btn-outline-light btn-round" data-toggle="modal" data-target="#editRatingAndReview"> Add/Edit Rating and Review </button>
              <button v-on:click="Delete_Record" type="button" class="btn btn-outline-primary btn-round">
                Delete This Record
              </button>
            </div>
          </div>

          <div class="row mt-5">
              <div class="col-5">
                  <!-- <span class="glyphicon glyphicon-th-list"></span> -->
                  <div class="container">
                      <h5>
                          In Your Playlist(s):
                      </h5>    
                          <button type="button" class="btn btn-outline-light btn-round" data-toggle="modal" data-target="#playlistAddOrRemove">
                              Edit Playlist Saves
                          </button>
                  </div>
                  
                  <!-- <i class="fa-solid fa-user"></i> -->
              </div>
              <div class="col-7" style="text-align: left;">
                  <h5>
                    Your Rating: {{ this.users_data.woons.M.rating.N }}
                  </h5>
                  <h5>
                    Your Review: {{ this.users_data.woons.M.review.S }}
                  </h5>
                  <h5>
                    Watched Status: {{ watched_status }}
                  </h5>
                <h4>
                </h4>
              </div>
          </div>
        </div>
      </div>
    </div>

    <!-- OVERLAY FOR EDIT REVIEW/RATING -->
    <div class="modal fade" id="editRatingAndReview" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content bg-dark text-white">
          <div class="modal-header justify-content-center">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              <i class="now-ui-icons ui-1_simple-remove"></i>
            </button>
            <h4 class="title title-up">EDIT YOUR RATING/REVIEW</h4>
          </div>
          <div class="modal-body">
                  <div id="inputs">
                      <div class="form-group row">
                          <label for="rating" class="category">
                              Your rating:
                          </label>

                          <select class="form-control" v-model="users_data.woons.M.rating.N">
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5</option>
                          </select>
                          <!-- <div id="sliderRegular" class="slider"></div> -->
                          <label for="review" class="category mt-3">Your Review: </label>
                          <!-- <input type="textarea" v-model="review">  -->
                          <textarea class="form-control" v-model="users_data.woons.M.review.S" id="review" rows="10"></textarea>
      
                          <!-- <input type="textarea" value="Hello" placeholder="What do you think of the movie?" class="form-control bg-white" style="height: 200px" /> -->
                      </div>
                  </div>
              
          </div>
          <div class="modal-footer">
            <button type="submit" v-on:click="Add_Rating_Review(movie_id)" class="btn btn-primary btn-round" data-dismiss="modal">Save</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="playlistAddOrRemove" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content bg-dark text-white">
          <div class="modal-header justify-content-center">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
              <i class="now-ui-icons ui-1_simple-remove"></i>
            </button>
            <h4 class="title title-up">Saved in the following playlist:</h4>
          </div>
          <div class="modal-body mx-2">
              <div class="form-check">
                  <label class="form-check-label">
                      <input v-model="playlist" value="my iv drip" class="form-check-input" type="checkbox" checked>
                      <span class="form-check-sign"></span>
]                      favourite horror 
                  </label>
              </div>
              <div class="form-check">
                  <label class="form-check-label">
                      <input v-model="playlist" value="disney + pixar" class="form-check-input" type="checkbox">
                      <span class="form-check-sign"></span>
                      guilty pleasures
                  </label>
              </div>
              <div class="form-check">
                  <label class="form-check-label">
                      <input v-model="playlist" value="movies to cry to" class="form-check-input" type="checkbox">
                      <span class="form-check-sign"></span>
                      childhood films
                  </label>
              </div>            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            <button type="submit" v-on:click="Add_Playlist" class="btn btn-primary" data-dismiss="modal">Submit</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="./assets/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="./assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="./assets/js/core/bootstrap.min.js" type="text/javascript"></script>
  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="./assets/js/plugins/bootstrap-switch.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="./assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
  <script src="./assets/js/plugins/bootstrap-datepicker.js" type="text/javascript"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Control Center for Now Ui Kit: parallax effects, scripts for the example pages etc -->
  <script src="./assets/js/now-ui-kit.js?v=1.3.0" type="text/javascript"></script>
  <script>

    // Vue portion
    // ADD COOKIE FOR MOVIE_ID WHEN USER CLICKS ON THE MOVIE
    // let movie_id = String(Cookies.get("movie_id"))
    movie_id = String(70143836)
    const get_movie_URL = "http://localhost:8000/retrieve_movie/" + movie_id
    const add_rating_review_URL = "http://localhost:8000/add_rating_review/" + movie_id
    let response = {'code': 200, 'external_data': {'code': 200, 'data': {'alt_id': 'tt0903747', 'alt_image': '', 'alt_metascore': '', 'alt_plot': '', 'alt_runtime': '0', 'alt_votes': '1391850', 'awards': '', 'default_image': 'https://occ-0-2851-38.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAABcRDr6fbQ5zoGWrY4qVN7P3paEOOf_sVG1WbrTYzL2KmfWZdAFfReDl_r7y2-PC17h6nUA6PP9D9yIEBRwS5OTI4pQ.jpg?r=a1e', 'genres': [{'genre': 'US TV Programmes', 'genre_id': 72404}, {'genre': 'TV Dramas', 'genre_id': 11714}, 
{'genre': 'TV Programmes', 'genre_id': 83}, {'genre': 'Crime TV Dramas', 'genre_id': 26009}, {'genre': 'TV Thrillers', 'genre_id': 89811}], 'images': [{'image_type': 'boxart', 'url': 'http://art-2.nflximg.net/45884/aa20cb9912c9320cb00b1c392d826f94f4445884.jpg'}, {'image_type': 'boxart', 'url': 'http://art-2.nflximg.net/8bb20/a78fc7390503fd37a6629e365fed555c9068bb20.jpg'}, {'image_type': 'boxart', 'url': 'http://art-2.nflximg.net/c12d1/2fc5897a715bac6b6caa99ad84ea53c5638c12d1.jpg'}, {'image_type': 'boxart', 'url': 'http://art-2.nflximg.net/d7bc4/dc51e2cf64ca79cf0b94c7f995927ddd76dd7bc4.jpg'}, {'image_type': 'boxart', 'url': 'http://art-2.nflximg.net/eb333/a2996f4b8c793b18d80213475e09fc5762beb333.jpg'}, {'image_type': 'boxart', 'url': 'http://occ-2-768-769.1.nflxso.net/art/10825/d2c17a657ef26af04d19cf46a3dc0c5300610825.jpg'}, {'image_type': 'bg', 'url': 'https://art-s.nflximg.net/22d08/560211126a4cbc0351d4545eee5221f94b022d08.jpg'}, {'image_type': 'bo342x684', 'url': 'https://art-s.nflximg.net/5fe0f/1e7932a9bbf28adfc52d92fe6f92ef883695fe0f.jpg'}, {'image_type': 'bg', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABSYKXdtDmOOjabtoc7oF5OUZFbsnZm4526zCL3FYmYp4RDhCv9Mw8m7XS0ym2S1SG375NvilN-LYgk8V-sa21Un-qPx2.jpg?r=e04'}, {'image_type': 'bg', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABQhaw6ooduaeVRwHI6tkibYxNxrJgmzATkTEOe5_yA6fuIqns8-Dg6rTMKkJn_fp9zVHYPAj9WqOQrlOpvlQdE7KfYUZ.jpg?r=776'}, {'image_type': 'bo166x236', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAABcRDr6fbQ5zoGWrY4qVN7P3paEOOf_sVG1WbrTYzL2KmfWZdAFfReDl_r7y2-PC17h6nUA6PP9D9yIEBRwS5OTI4pQ.jpg?r=a1e'}, {'image_type': 'bo342x684', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAABW8ZgA4rIVS2cOVVFOHnJFAEtN_FesWd0xCSVaoejuTyrKxk5IzGZF-3lGkiS7E0sU05luFuv3yzsMqnk2zzWV8yVept.jpg?r=a1e'}, {'image_type': 'bleedback', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/tx1O544a9T7n8Z_G12qaboulQQE/AAAABazJn53SUaBOBxLcVIYTm1zPmsKEUgNoGdDoDVfeuUPtlxUMwrcI0aiM9bx2YR7TWoXOGj2pMdrYjqgkAVUmNvv1BAZwAAzxZA.png?r=c0d'}, {'image_type': 'bo1280x448', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABbnCEF0hlRvB-oxUAW-Tfw4VR40pPb1fRNMnN5Vr8GF7UGgJgCrEiCjMf4s8Er5qeSjDxPNpEU6IQJUPBpPyzf9NIa8g.jpg?r=01d'}, {'image_type': 'bo342x192', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABUr3Y1-NF-H2vxX46gBEwdYqSlvDsY126karuPPoXnHjijxuk1cXPIb8lrLk8TfN3YXWzniCLhrTOROMXuLaKcji8lI.jpg?r=01d'}, {'image_type': 'bo665x375', 'url': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/X194eJsgWBDE2aQbaNdmCXGUP-Y/AAAABXu-_LuiAAUXDEgUl0eWjcr09Y3m-r5fwRTtAaCezs6-T9iDACfvGyBC507heeLPEl0hiHqjdX7UF4CY--5Envb_DSmo.jpg?r=01d'}, {'image_type': 'boxart', 'url': 'https://occ-0-1091-299.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAABYxZZBmIguwiUza6c-QeBGYe8RYRAj6rs2oKsjWydQ6RZ0gbq7nk0ZQSuVTi-X-outU-CJmhpcMbNNo7IHwLuLvAqA.jpg?r=d2f'}, {'image_type': 'boxart', 'url': 'https://occ-0-114-116.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAAARPvAntismewdFsimXxpB8fMhloLgSvEQsnnQXSPOCYUDkSO97zaZi4lAt1rN2tj62rmc5l-FBAzBd-grC2BvYskNg.jpg?r=289'}, {'image_type': 'boxart', 'url': 'https://occ-0-114-116.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAABcRDr6fbQ5zoGWrY4qVN7P3paEOOf_sVG1WbrTYzL2KmfWZdAFfReDl_r7y2-PC17h6nUA6PP9D9yIEBRwS5OTI4pQ.jpg?r=a1e'}, {'image_type': 'billboard', 'url': 'https://occ-0-1223-58.1.nflxso.net/art/f5bad/b9e1e150e3f14118ae2e448f3de1eca757cf5bad.jpg'}, {'image_type': 'bo665x375', 'url': 'https://occ-0-1223-58.1.nflxso.net/dnm/api/v6/0DW6CdE4gYtYx8iy3aj8gs9WtXE/AAAABbfYbxKOzCWI7vK76tZ1dL9u7AmOYaK8yAY5hMNocEznGiVxHnAMegpmL1M00tXXVNZwFGRGJFEr4N8d6zdgbc5VU17stYn-Dg.jpg?r=01d'}, {'image_type': 'bo342x192', 'url': 'https://occ-0-1223-58.1.nflxso.net/dnm/api/v6/0DW6CdE4gYtYx8iy3aj8gs9WtXE/AAAABf-ZUXXm2_L9Pu537uUYHZH5ToOjipdmu7aM3Vwm7555-P_evIEIFyyOZxyS-qd9glX3SiyktBOH9nx4I9tTVjcFqOXwpc8p.jpg?r=01d'}, {'image_type': 'bo1280x448', 'url': 'https://occ-0-1223-58.1.nflxso.net/dnm/api/v6/0DW6CdE4gYtYx8iy3aj8gs9WtXE/AAAABQZtslU0LfgaZ5T4Dt-z-h7H6Z52nCMW_O9GRVqbBs1rn9aR5ojEX7TDCGPRGDi9bTWROmc0LhWWON5k2OU4exEpFAms0VoF7A.jpg?r=01d'}, {'image_type': 'bo342x684', 'url': 'https://occ-0-1223-58.1.nflxso.net/dnm/api/v6/XsrytRUxks8BtTRf9HNlZkW2tvY/AAAABVKFiTJZ0umEzQZnJMzHAlUEIjT5HimGxNN-2eXel8da8bpN8i12aCDIEUqQseMupO4iGi7hG-vLo6gO1z6heTZQT9tmfbctCg.jpg?r=a1e'}, {'image_type': 'bg', 'url': 'https://occ-0-2042-1007.1.nflxso.net/art/21fa8/69a71f6d28ca83423ef8df470f8deb588d221fa8.jpg'}, {'image_type': 'bg', 'url': 'https://occ-0-2042-1007.1.nflxso.net/art/2287b/672474bcd6d53267f358d520aadc8bcf1012287b.jpg'}, {'image_type': 'boxart', 'url': 'https://occ-0-2773-2774.1.nflxso.net/dnm/api/v6/XsrytRUxks8BtTRf9HNlZkW2tvY/AAAABarsH006nHCKxc8bahwc6_EKG8wUR37yNgaeqXqVmAUMJmuzLgtkfNyDawPN9G9Gtil8j1Pes0pafauu1rM0lwPA2A.jpg?r=d2f'}, {'image_type': 'boxart', 'url': 'https://occ-0-2773-2774.1.nflxso.net/dnm/api/v6/XsrytRUxks8BtTRf9HNlZkW2tvY/AAAABej-1_2c2BJRatUfbLz85N4RVbmDOqV-IkXCUGAwf6rRxIMOWzocuSj9x4IDzoBdoCxETWTqTQYCMVG8uMA-_A7lGQ.jpg?r=a1e'}, {'image_type': 'boxart', 'url': 'https://occ-0-3377-185.1.nflxso.net/dnm/api/v6/XsrytRUxks8BtTRf9HNlZkW2tvY/AAAAATQQ0pfPUa-iEgOqw-n--I5VBjUd2q4Vu_GPY9vJXdpAA_foq8K6fUxZTvkZydMmXRxfbiCPgruhkdM5JkkKaDt_Gg.jpg?r=289'}, {'image_type': 'bo1280x448', 'url': 'https://occ-0-768-769.1.nflxso.net/dnm/api/v6/0DW6CdE4gYtYx8iy3aj8gs9WtXE/AAAABVP3CMkYo3EOr9L-d8E2UFobdUFnmy9zmmlZKBHnOj0zaL3tEKOVaPENZlxPuE3e_i0Za-CUgZPL2ypBKDCM4dKGpiFf.jpg?r=01d'}, {'image_type': 'bo342x192', 'url': 'https://scdn.nflximg.net/ipl/34613/a2a03c3d3457c54da30388c7b473b6d04b3b17e8.jpg'}, {'image_type': 'bo665x375', 'url': 'https://scdn.nflximg.net/ipl/35397/6fa3d8a936f9b8a4703cb1d626e13092a087f95e.jpg'}, {'image_type': 'bo1280x448', 'url': 'https://scdn.nflximg.net/ipl/35437/9db37c324773b29413f445b73c942ae78844ed34.jpg'}, {'image_type': 'bo342x192', 'url': 'https://scdn.nflximg.net/ipl/62514/b4c455d961a92716af562429d44d2b1d5c0f92b4.jpg'}, {'image_type': 'bo342x192', 'url': 'https://scdn.nflximg.net/ipl/62978/dab273a2878e27581f8df048dfe7ccc42dbb2867.jpg'}, {'image_type': 'bo665x375', 'url': 'https://scdn.nflximg.net/ipl/64319/a23875d1e95594c7d98ca89cd5ef07e9252c2d6f.jpg'}, {'image_type': 'bo1280x448', 'url': 'https://scdn.nflximg.net/ipl/64368/a3675ad701b60ad2ef23ef0838f292f852511a2b.jpg'}, {'image_type': 'bo665x375', 'url': 'https://scdn.nflximg.net/ipl/65824/44a481f7ffb0dcd5f6c7db60a490dad5d3456ae0.jpg'}, {'image_type': 'bo1280x448', 'url': 'https://scdn.nflximg.net/ipl/65907/a7f30e951dd07288c45f4c1aa818dba4d52ec907.jpg'}, {'image_type': 'bg', 'url': 'https://so-s.nflximg.net/soa2/982/2125954982.jpg'}, {'image_type': 'bg', 'url': 'https://so-s.nflximg.net/soa4/468/2125974468.jpg'}], 'large_image': 'https://occ-0-1068-92.1.nflxso.net/dnm/api/v6/evlCitJPPCVCry0BZlEFb5-QjKc/AAAABW8ZgA4rIVS2cOVVFOHnJFAEtN_FesWd0xCSVaoejuTyrKxk5IzGZF-3lGkiS7E0sU05luFuv3yzsMqnk2zzWV8yVept.jpg?r=a1e', 'latest_date': '2022-04-04', 'maturity_label': 'Suitable for mature audiences only', 'maturity_level': '110', 'netflix_id': '70143836', 'origin_country': '', 'poster': '', 'rating': '', 'runtime': '', 'start_date': '2015-04-14', 'synopsis': 'A terminally ill chemistry teacher teams with a former student to manufacture crystal meth to secure his family&#39;s future.', 'title': 'Breaking Bad', 'title_type': 'series', 'year': '2008'}}, 'internal_data': {'woons': {'M': {'rating': {'N': '3'}, 'review': {'S': 'V GOOD'}, 'watched': {'BOOL': true}}}}}
    
  const app = Vue.createApp({
      data() {
        return {
          title: "",
          type: "",
          genres: [],
          synopsis: "",
          public_rating: "-",
          image: "Not found",
          users_data: [],
          message: "Error when retrieving movie details.",
          playlist: [],
          watched_status:""
        }
      },
      methods: {
        getMovieDetails() {
          // called on Vue instance creation to get movie details
          this.title = response.external_data.data.title
          this.type = response.external_data.data.title_type
          this.type = this.type[0].toUpperCase() + this.type.substring(1)
          if (response.external_data.data.genres != 'None') {
            for (genre_and_id of response.external_data.data.genres) {
              this.genres.push(genre_and_id.genre)
            }
          }
          this.synopsis = response.external_data.data.synopsis
          var temp_div = document.createElement("div")
          temp_div.innerHTML = response.external_data.data.synopsis
          this.synopsis = temp_div.innerHTML

          if (response.external_data.data.rating) {
            this.public_rating = response.external_data.data.rating
          }
          
          this.image = response.external_data.data.default_image
          this.users_data = response.internal_data
          console.log(this.users_data)
          console.log(this.users_data.woons.M.watched.BOOL)
          // const response =
          //   fetch(get_all_URL)
          //       .then(response => response.json())
          //       .then(data => {
          //           console.log(response);
          //           if (data.code === 404) {
          //               // Movie retrieval error
          //               this.message = data.message;
          //           } else {
          //               this.books = data.data.books;
          //           }
          //       })
          //       .catch(error => {
          //           // Errors when calling the service; such as network error, 
          //           // service offline, etc
          //           console.log(this.message + error);
          //       });
        },

      Add_Playlist(){
        console.log("Add playlist")
        playlist_id = this.playlist
        console.log(playlist_id)
        const add_to_playlist_URL = "http://localhost:8000/playlist/" + playlist_id
        
        let jsonData = JSON.stringify({
                movie_IDs: [String(this.movie_id)],
                operation: "ADD"
        });
        // Send movie_ID in a list [String(123), String(456)]

        const response =
          fetch(add_to_playlist_URL, 
          {
            method: "PUT",
            headers: {
                "Content-type": "application/json"
            },
            body: jsonData
          })
              .then(response => response.json())
              .then(data => {
                  console.log(response);
                  if (data.code === 500) {
                      // no logs in db
                      this.message = data.message;
                      // console.log("Hello")
                  } else {
                      // Update Code here
                      console.log("movie added to playlist")            }
              })
              .catch(error => {
                  // Errors when calling the service; such as network error, 
                  // service offline, etc
                  console.log(this.message + error);
              });
      },

      Add_Rating_Review(movie_id){
        console.log("Add movie rating and review")

        let jsonData = JSON.stringify({
                user_name: "woons",
                watched: this.users_data.woons.M.watched.BOOL,
                rating: this.users_data.woons.M.rating.N,
                review: this.users_data.woons.M.review.S
                // Change woons later
            });
      
        const response =
          fetch(add_rating_review_URL,
          {
            method: "POST",
            headers: {
                "Content-type": "application/json"
            },
            body: jsonData
            // Username, Watched, Rating, Review
          })
              .then(response => response.json())
              .then(data => {
                  console.log(response);
                  if (data.code === 500) {
                      // no logs in db
                      this.message = data.message;
                      // console.log("Hello")
                  } else {
                      // Update Code here
                      console.log("Rating and review")            }
              })
              .catch(error => {
                  // Errors when calling the service; such as network error, 
                  // service offline, etc
                  console.log(this.message + error);
              });
      },
      Watched() {
        console.log("Watched function running")
        // if (this.users_data.woons.M.watched.BOOL == "True"){
        if (this.users_data.woons.M.watched.BOOL == true){
          this.watched_status = "Watched"
        }
        else {
          this.watched_status = "Haven't watched yet"
        }
      },
      Delete_Record(){
        this.watched_status = "Haven't watched yet"
        this.users_data.woons.M.rating.N = ""
        this.users_data.woons.M.review.S = ""
      }
      },

      // Run on load
      created() {
        this.getMovieDetails()
        this.Watched()
      }
    })
    const vm = app.mount('#app')
  </script>
</body>

</html>